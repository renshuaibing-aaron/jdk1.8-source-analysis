1.分布式锁的实现方式主要有两种 
实现最好的方式是用zookeeper实现  并且有最好的实现方式   用zk实现分布式锁的大概方式是
在根节点(持久化节点)下创建临时有序节点
在获取根节点下的所有子节点 判断上一步创建的临时节点是不是最小的节点
如果是最小的节点 加锁成功 
如果不是 加锁失败 并且对前一个节点加watch 收到删除的消息后 加锁成功 
执行被锁住的代码块
删除自己在根下创建的节点 解锁成功


2.利用redis创建分布式锁 有很多的方式 一般是在单点redis上创建 原因是 在集群或者主备的情况下会有异常出现

redis实现分布式锁的大概方式是：
