1.分布式事务相关知识  分布式事务的理论基础是CAP理论和BASE理论 根据这两个理论的技术实现有以下几种
根据CAP理论发展有两阶段提交和三阶段提交和TCC事务

根据BASE理论有本地数据库，本地消息表，MQ事务机制等


https://www.cnblogs.com/zjfjava/p/10425335.html
https://www.jianshu.com/p/cc5c10221aa1

Tuxedo 提出的 XA 分布式事务协议，XA 协议包含二阶段提交（2PC）和三阶段提交（3PC）两种实现。
分式事务2PC，存在什么问题，3PC怎么解决？
   
   
   1) 两阶段提交 实际上需要一个事务管理器 来管理  具体代码实现spring+JTA  这个方案需要事务管理器直连数据库 这在微服务架构里面是不允许的
    所以xa方案现在已经放弃
   
TCC 事务：最终一致性
  有三部分组成 try -ex- 回滚 这个不是直连数据库 是调用接口 但是这个需要写的逻辑非常复杂 主要针对金钱相关的代码里面实现
  这里简单提一句，如果你要玩儿TCC分布式事务，必须引入一款TCC分布式事务框架，比如国内开源的ByteTCC、himly、tcc-transaction


本地消息表：最终一致性  国外ebay搞出来的  需要依赖本地消息表+MQ(消息队列)


MQ 事务：可靠消息最终一致性  就是不使用本地消息表 直接使用基于mq来实现事务 这个种情况下又分为两种情况  第一种是异步消息--不支持事务的MQ(现在市面上一般的MQ都不支持事务机制)
 第二种使用支持事务消息的MQ比如阿里的rocketmq 支持消息事务


Saga 事务：最终一致性