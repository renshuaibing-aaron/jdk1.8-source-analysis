1.如果20万的用户同时访问一个热点数据，如何优化自己的缓存结构

首先自己的架构肯定是集群部署，然后对于一个热点数据，加入所有的请求都落到一个节点上，会导致redis宕机，然后缓存穿透问题？？
解决办法 要善于利用本地缓存 基于流式计算基数缓存热点自动发现(利用spark+ZK实现)，然后热点数据自动加载为JVM本地缓存，解决问题
 加固处理：在自己的系统里面增加限流熔断保护机制，当出现较大的流量时进行 ，限流熔断保护


2.
 缓存雪崩问题  首先明白缓存发生雪崩的场景，主要是因为缓存宕机导致的，缓存宕机导致，缓存失效，大量的请求直接打到数据库上，比如在正常当前情况下，每秒大概5000个请求
   缓存拦截4000个，数据库写1000个，但是在缓存宕机的情况下，每秒5000个请求直接打到数据库上，直接导致数据库宕机，然后数据库在启动过程中(dba触发)，数据库的启动会因为高
   并发的请求导致，不停的启动，不停的宕机
   解决办法:首先事前，要保证redis的高可用，可以采用主从+哨兵，或者集群的模式，避免redis的全面崩盘
   事中：系统内部使用ehcache本地缓存，分担一部分缓存，请求首先从本地缓存里面找数据，不命中，然后从redis里面找；另外主要的是一旦redis出现宕机的情况，要使用hystrix限流和降级
   避免mysql直接被打死，比如用户请求5000个，通过限流和降级中间件，1000个请求数据库，剩下的4000个，降级操作，可以返回给用户空值，或者其他一些比友好的显示
   事后：一定要做redis的持久化，就是在事故发生以后可以快速的恢复缓存数据
   
   
   
   缓存穿透问题  首先明白 缓存发生穿透的场景 一般是黑客的攻击，黑客的攻击一般 这些请求都不会再redis命中，导致缓存无用，直接打到数据库上，比如数据里面的id顺序是1开始的
   黑客每秒发出的请求是负数的ID 导致缓存失效，解决办法：每次查找数据库 只要没有查到 就写一个空值到缓存里面 比如set -999 UNKONWN  
   另外可以利用布隆过滤器解决缓存的穿透问题    ？？
   
   
   缓存击穿问题 这个问题主要是指一个key是非常热点，不停的扛着大量的请求，一旦这个key值失效，会导致大量的请求到数据库里面 导致数据库宕机  怎么解决 
   可以设置热点key的值不过期 或者增加过期时间  然后一旦过期key值失效 在访问数据时 进行加锁控制
   